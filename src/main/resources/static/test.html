<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8"/>
  <title>Principal</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel='stylesheet' href='/webjars/bootstrap/3.3.7/css/bootstrap.min.css'/>
<!--  <script src="webjars/angularjs/1.4.9/angular.min.js" type="application/javascript"></script>-->
  <link rel="icon" type="image/x-icon" href="img/favicon.ico"/>
  <script src="webjars/jquery/3.1.1/jquery.min.js" type="text/javascript"></script>
</head>


<body>
  <!-- Upload file form -->
  <form id="upload-file-form">
    <label for="upload-file-input">Upload your file:</label>
    <input id="upload-file-input" type="file" name="uploadfile" accept="images/*" />
    <br />
    <span id="upload-file-message"></span>
  </form>
  <br />
  <hr />
  Proudly handcrafted by
  <a href='http://netgloo.com/en'>Netgloo</a> :)
  <img src=""/>
  
  <!-- Javascript functions -->
  <script>
      $(document).ready(function() {
          $("#upload-file-input").on("change", uploadFile);
      });
    /**
     * Upload the file sending it via Ajax at the Spring Boot server.
     */
    function uploadFile() {
      $.ajax({
        url: "/file/upload",
        type: "POST",
        data: new FormData($("#upload-file-form")[0]),
        enctype: 'multipart/form-data',
        processData: false,
        contentType: false,
        cache: false,
        success: function () {
          // Handle upload success
          $("#upload-file-message").text("File succesfully uploaded");
        },
        error: function () {
          // Handle upload error
          $("#upload-file-message").text(
              "File not uploaded (perhaps it's too much big)");
        }
      });
    } // function uploadFile
  </script>


  <script src="webjars/bootstrap/3.3.7/js/bootstrap.min.js" type="text/javascript"></script>
</body>

</html>
